To grab the peg and pull it out from the side, the robot should perform the following steps:

1. Put the gripper above the peg
2. Grab the peg with the gripper
3. Line up the gripper with the peg's direction of motion
4. Pull sideways on the peg to unplug it
5. Move the gripper away from the peg

Similar to inserting the peg, first, put the gripper above the peg. 

- When the robot's gripper is not vertically aligned with the peg, move the robot's gripper until the robot's gripper is vertically aligned with the peg

Then, grab the peg with the gripper.

As the peg is being pulled out sideways, line up the gripper's sideways motion with the direction of the peg's motion. This will ensure that the peg is being pulled in the correct direction.

- When the robot's gripper is not lined up with the direction of the peg's motion, adjust the gripper until it is lined up with the direction of the peg's motion.

Using the gripper, pull sideways on the peg to unplug it.

Finally, after the peg has been unplugged, move the gripper away from the peg.

- When the robot's gripper is still around the peg, move the robot's gripper away from the peg.